senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]')
senator
View(senator)
xml_attr(senator, "href")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]')
xml_attr(senator, "href")
x <- read_xml("<root id='1'><child id ='a' /><child id='b' d='b'/></root>")
xml_attr(x, "id")
xml_attr(x, "apple")
xml_attrs(x)
senator
senator <- read_xml(senator)
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]')
senator
View(senator)
xml_attr(senator, "class")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]')
xml_attr(wiki_senator, "href")
xml_attr(x, "id")
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]')
senator
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span')
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span')
senator
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span')
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
head(html_attr(html_nodes(html_senator, "a"), "href"))
head(html_attr(html_nodes(html_senator, '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]'), "href"))
head(html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span/a'), "href"))
html_attr(html_nodes(html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span/a'), "href")
senator <- html_node(x = html_senator, xpath = '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span/a')
senator
html_attr(html_nodes(html_senator, xpath = "a"), "href")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
html_attr(html_nodes(html_senator, xpath = "a"), "href")
xpathSApply(html_senator, path = "//a",xmlGetAttr,"href")
html_senator <- read_html(url_senator) %>%
html_nodes("a")
html_senator <- read_html(url_senator) %>%
html_nodes("a") %>%
html_attr("href")
html_senator <- read_html(url_senator) %>%
html_nodes("a")
View(senator)
View(senator)
View(senator)
View(html_senator)
html_senator <- read_html(url_senator) %>%
html_nodes("a") %>%
html_attr("href")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator) %>%
html_nodes(".span.fn") %>%
html_attr("href")
html_senator <- read_html(url_senator) %>%
html_nodes("span.fn") %>%
html_attr("href")
html_senator <- read_html(url_senator) %>%
html_nodes("a") %>%
html_attr("href")
senator <- html_nodes(html_senator, "a") %>%
html_attr("href")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "a") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span') %>%
html_attr("href")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, ".fn") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, ".fn.a") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "fn.a") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "fn") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "a") %>%
html_attr("href")
senator
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "span") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "a") %>%
html_attr("href")
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, "a") %>%
html_text()
senator
senator <- html_nodes(html_senator, "fn.a") %>%
html_text()
senator
senator <- html_nodes(html_senator, "fn") %>%
html_text()
senator
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, '//*[@id="senators"]/tbody/tr[1]/td[4]/span/span/span/a')
senator <- html_nodes(html_senator, ".vcard.fn")
senator
senator <- html_nodes(html_senator, ".fn")
senator
senator <- html_nodes(html_senator, ".fn")  %>%
xml_attr("href")
senator
senator <- html_nodes(html_senator, ".fn")  %>%
xml_attr("a href")
senator
senator <- html_nodes(html_senator, ".fn")  %>%
xml_attr("a.href")
senator
senator <- html_nodes(html_senator, ".fn.a")
senator
senator <- html_nodes(html_senator, ".fn")
senator
senator <- html_nodes(html_senator, ".fn") %>%
html_text()
senator
main.page <- read_html(x = "http://www.presidency.ucsb.edu/sou.php")
urls <- main.page %>% # feed `main.page` to the next step
html_nodes(".ver12 a") %>% # get the CSS nodes
html_attr("href") # extract the URLs
inks <- main.page %>% # feed `main.page` to the next step
html_nodes(".ver12 a") %>% # get the CSS nodes
html_text() # extract the link text
View(wiki_senator)
View(wiki_senator)
head(sotu)
sotu <- data.frame(links = links, urls = urls, stringsAsFactors = FALSE)
main.page <- read_html(x = "http://www.presidency.ucsb.edu/sou.php")
urls <- main.page %>% # feed `main.page` to the next step
html_nodes(".ver12 a") %>% # get the CSS nodes
html_attr("href") # extract the URLs
links <- main.page %>% # feed `main.page` to the next step
html_nodes(".ver12 a") %>% # get the CSS nodes
html_text() # extract the link text
sotu <- data.frame(links = links, urls = urls, stringsAsFactors = FALSE)
head(sotu)
senator <- html_nodes(html_senator, ".fn")
senator
senator <- html_nodes(html_senator, ".fn a")
senator
senator <- html_nodes(html_senator, ".fn a") %>%
xml_attr("href")
senator
paste("https://en.wikipedia.org", senator)
paste("https://en.wikipedia.org",senator)
paste("https://en.wikipedia.org",senator, sep = "")
linke_senator <- paste("https://en.wikipedia.org",senator, sep = "")
link_senator <- paste("https://en.wikipedia.org",senator, sep = "")
table(link_senator)
link_senator <- as.data.frame(link_senator)
View(link_senator)
for (i = 1:5){
for (i == 1:5){
for (i in 1:5){
get_wiki_info(link_senator[i])
}
link_senator[1]
link_senator[,1]
link_senator[1, ]
link_senator[1,]
link_senator[2,]
View(html_senator)
View(link_senator)
get_wiki_info(link_senator[2,])
get_wiki_info("link_senator[2,]")
"link_senator[2,]"
link_senator[2,]
get_wiki_info("link_senator[2,]")
as.factor(link_senator[2,])
as.character(link_senator[2,])
get_wiki_info(as.character(link_senator[2,]))
link_senator <- as.character(link_senator)
link_senator <- as.data.frame(link_senator)
link_senator <- as.data.frame(link_senator)
View(link_senator)
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, ".fn a") %>%
xml_attr("href")
link_senator <- paste("https://en.wikipedia.org",senator, sep = "")
link_senator <- as.data.frame(link_senator)
View(link_senator)
typeof(link_senator)
link_senator$senator <- as.character(link_senator$link_senator)
View(link_senator)
link_senator$senator <- as.character(link_senator$link_senator) %>%
select(senator)
link_senator <- link_senator %>%
select(senator)
View(link_senator)
get_wiki_info(link_senator[2,])
for (i in 1:5){
get_wiki_info(link_senator[i,])
}
get_wiki_info(link_senator[1,])
get_wiki_info(link_senator[2,])
get_wiki_info(link_senator[3,])
i <- seq(5)
get_wiki_info(link_senator[i,])
for (i in seq(5)){
get_wiki_info(link_senator[i,])
}
get_wiki_info(link_senator[1,])
get_wiki_info(link_senator[2,])
for (i in 1:5) {
get_wiki_info(link_senator[i,])
}
for (i in 1:5) {
print(get_wiki_info(link_senator[i,]))
}
link_senator <- link_senator %>%
select(senator)
rbind(for (i in 1:5) {
print(get_wiki_info(link_senator[i,]))
})
for (i in 1:5) {
print(get_wiki_info(link_senator[i,]))
}
for (i in 1:5) {
dataframei <- get_wiki_info(link_senator[i,])
}
dataframe1
dataframei
for (i in 1:5) {
dataframe_i <- get_wiki_info(link_senator[i,])
}
View(dataframe_i)
for (i in 1:5) {
dataframe_i <- print(get_wiki_info(link_senator[i,]))
}
senator_url <- link_senator[1,]
senator_url <- link_senator[i,]
senator_url <- link_senator[i,]
senator_url <- link_senator[i,]
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
dataframe_i <- print(get_wiki_info(link_senator[i,]))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
dataframe_i <- print(get_wiki_info(senator_url))
}
dataframei
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
table(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
paste(table(get_wiki_info(senator_url)))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
paste(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
data.table::(get_wiki_info(senator_url))
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
merge.data.frame(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
merge.data.frame(get_wiki_info(senator_url), by = "key")
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
merge(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
get_wiki_info(senator_url)
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
cat(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
print(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
frame_[i] <- get_wiki_info(senator_url)
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
frame[i] <- get_wiki_info(senator_url)
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
print(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
senator_url <- link_senator[i,]
print(get_wiki_info(senator_url))
}
for (i in seq(1:5)) {
get_wiki_info(link_senator[i,])
}
names(2)
dataframe1 <- get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth")
dataframe1
dataframe_i <- get_wiki_info(link_senator[i,])
print(dataframei)
dataframe_[i] <- get_wiki_info(link_senator[i,])
dataframe1 <- get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth")
dataframe1 <- t(dataframe1)
dataframe1
dataframe1 <- get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth")
dataframe1 <- as.data.frame(t(dataframe1))
dataframe1
get_wiki_info("https://en.wikipedia.org/wiki/Susan_Collins")
dataframe1
dataframe1 <- dataframe1 %>%
select(V1, V2, V3)
dataframe1
View(link_senator)
for (i in seq(5)) {
get_wiki_info(link_senator[i,])
}
for (i in seq(5)) {
print(get_wiki_info(link_senator[i,]))
}
for (i in seq(5)) {
print(get_wiki_info(link_senator[i,]))
}
knitr::opts_chunk$set(echo = TRUE)
library(xml2)
library(httr)
library(rvest)
url_wiki <- "https://en.wikipedia.org/wiki/Mitch_McConnell"
wiki <- read_html(url_wiki)
wiki
mm_table <- html_node(x = wiki, xpath = '//*[@id="mw-content-text"]/div/table[2]')
mm_table
infobox <- wiki %>%
html_node(".infobox.vcard") %>%
html_table()
infobox
infobox_dataframe <- as.data.frame(infobox)
library(dplyr)
colnames(infobox_dataframe) <- c("key", "value")
library(stringr)
infobox_dataframe1 <- infobox_dataframe %>%
filter(key == "Political party" | key == "Children")
data1 <- data.frame(key = c("Full name"), value = colnames(infobox)) %>%
head(1)
infobox_dataframe1 <- rbind(data1, infobox_dataframe1)
infobox_dataframe1
get_wiki_info <- function(url) {
url_wiki <- url
wiki <- read_html(url_wiki)
infobox <- wiki %>%
html_node(".infobox.vcard") %>%
html_table()
infobox_dataframe <- as.data.frame(infobox)
colnames(infobox_dataframe) <- c("key", "value")
infobox_dataframe1 <- infobox_dataframe %>%
filter(key == "Political party" | key == "Children")
data1 <- data.frame(key = c("Full name"), value = colnames(infobox)) %>%
head(1)
infobox_dataframe1 <- rbind(data1, infobox_dataframe1)
infobox_dataframe1
}
get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth")
get_wiki_info("https://en.wikipedia.org/wiki/Susan_Collins")
get_wiki_info <- function(url) {
url_wiki <- url
wiki <- read_html(url_wiki)
infobox <- wiki %>%
html_node(".infobox.vcard") %>%
html_table()
infobox_dataframe <- as.data.frame(infobox)
colnames(infobox_dataframe) <- c("key", "value")
infobox_dataframe1 <- infobox_dataframe %>%
filter(key == "Political party" | key == "Children")
data1 <- data.frame(key = c("Full name"), value = colnames(infobox)) %>%
head(1)
infobox_dataframe1 <- rbind(data1, infobox_dataframe1)
if (nrow(infobox_dataframe1) == 2) {
data2 <- data.frame(key = c("Children"), value = c("NA"))
infobox_dataframe1 <- rbind(infobox_dataframe1, data2)
infobox_dataframe1
} else {
infobox_dataframe1
}
}
get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth")
get_wiki_info("https://en.wikipedia.org/wiki/Susan_Collins")
url_senator <- "https://en.wikipedia.org/wiki/Current_members_of_the_United_States_Senate"
html_senator <- read_html(url_senator)
senator <- html_nodes(html_senator, ".fn a") %>%
xml_attr("href")
link_senator <- paste("https://en.wikipedia.org",senator, sep = "")
link_senator <- as.data.frame(link_senator)
link_senator$senator <- as.character(link_senator$link_senator)
link_senator <- link_senator %>%
select(senator)
for (i in seq(5)) {
print(get_wiki_info(link_senator[i,]))
}
> for (i in seq(5)) {
+ print(get_wiki_info(link_senator[i,]))
+ }
for (i in seq(5)) {
print(get_wiki_info(link_senator[i,]))
}
print(get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth"))
dataframe1 <- print(get_wiki_info("https://en.wikipedia.org/wiki/Tammy_Duckworth"))
dataframe1
for (i in seq(5)) {
dataframe_i <- print(get_wiki_info(link_senator[i,]))
}
View(dataframe_i)
for (i in seq(5)) {
i <- print(get_wiki_info(link_senator[i,]))
}
View(i)
for (i in seq(5)) {
table(get_wiki_info(link_senator[i,]))
}
for (i in seq(5)) {
table(get_wiki_info(link_senator[i,]))
}
for (i in seq(5)) {
i <- table(get_wiki_info(link_senator[i,]))
}
for (i in seq(5)) {
i <- list(get_wiki_info(link_senator[i,]))
}
View(i)
for (i in seq(1:5)) {
i <- list(get_wiki_info(link_senator[i,]))
}
View(i)
for (i in seq(1:5)) {
i <- list(get_wiki_info(link_senator[i,]))
}
for (i in seq(1:5)) {
i <- get_wiki_info(link_senator[i,])
}
View(i)
for (i in seq(1:4)) {
i <- get_wiki_info(link_senator[i,])
}
View(i)
for (i in seq(1:4)) {
get_wiki_info(link_senator[i,])
}
for (i in seq(4)) {
get_wiki_info(link_senator[i,])
}
for (i in seq(4)) {
rbind(get_wiki_info(link_senator[i,]), by = "key")
}
for (i in seq(4)) {
rbind(get_wiki_info(link_senator[i,]), by = "key")
}
for (i in seq(4)) {
cbind(get_wiki_info(link_senator[i,]), by = "key")
}
for (i in seq(4)) {
dataframe <- cbind(get_wiki_info(link_senator[i,]), by = "key")
}
View(dataframe)
for (i in seq(4)) {
get_wiki_info(link_senator[i,])
}
